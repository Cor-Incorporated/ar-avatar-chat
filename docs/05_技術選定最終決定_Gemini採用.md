# 技術選定 最終決定通知
## LLM API: Google Gemini 2.5 Flash 採用

**発行日**: 2025-10-01  
**発行者**: PdM 寺田康佑  
**対象**: 開発チーム・リサーチャー

---

## 🎯 最終決定

**Phase 2のLLM統合において、Google Gemini 2.5 Flash を採用します。**

---

## 📊 決定の根拠

### リサーチャー評価結果
- **総合スコア**: 4.5点（GPT-4o miniと同点）
- **速度**: 最速クラス（765 tokens/s）
- **コスト**: 最安値（入力0.40/1M tokens）
- **無料枠**: 15 RPM, 1500 RPD（初期検証に最適）

### ビジネス上の優位性
1. **Googleエコシステムとの統合**
   - Phase 2実装予定のGoogle Calendar APIとの親和性
   - 将来のGoogle Drive, Gmail連携が容易
   - 同一アカウントでの認証統合が可能

2. **機能拡張の可能性**
   - マルチモーダル対応（画像認識）が強力
   - 名刺スキャン機能の追加が視野に入る
   - VRMアバターの表情分析（将来的な拡張）

3. **コストと速度のメリット**
   - 最安値のコスト
   - 最速クラスの応答速度（目標2秒未満を余裕で達成）
   - 無料枠での初期検証が可能

---

## ⚠️ 認識すべきリスクと対応策

### リサーチャーが指摘した懸念点
> 「Function Callingにおける日本語のニュアンス対応や、広範な商用実装実績に関する公開検証データがまだ不足している」

### リスク軽減策

#### 1. **Phase 1への影響: なし**
Phase 1（マーカー + アバター + モーション）はLLMを使用しないため、本決定による影響は**ゼロ**です。

#### 2. **Phase 2開始時の検証タスク**
Phase 2着手前に、以下の検証を実施します：
- [ ] Gemini 2.5 FlashのFunction Calling動作確認
- [ ] 日本語プロンプトでのGoogle Calendar連携テスト
- [ ] 応答品質・速度のベンチマーク
- [ ] 問題発覚時は即座にGPT-4o miniへ切り替え

#### 3. **マルチモデル戦略の維持**
プロキシサーバーの設計を、**モデル切り替え可能なアーキテクチャ**とします：
```javascript
// 環境変数でモデルを切り替え可能
const MODEL_PROVIDER = process.env.MODEL_PROVIDER || 'gemini'; // 'gemini' or 'openai'
```

これにより、Geminiで問題が発生した場合でも、最小限のコード変更でGPT-4o miniへ移行可能です。

---

## 📋 開発チームへの影響

### Phase 1（現在進行中）
**影響なし**: そのまま進めてください。

### Phase 2（今後）
Phase 2の開発指示書では、以下を提供します：
- Gemini 2.5 Flash APIの実装ガイド
- Google Calendar連携のコード例
- モデル切り替え可能なプロキシサーバー設計

---

## 📋 リサーチャーへの追加タスク

### 【調査依頼書 #002】Gemini 2.5 Flash 実装検証（小規模タスク）

#### 目的
本番実装前に、Gemini 2.5 FlashのFunction Calling（特に日本語）を実際に動作確認し、実装ガイドを作成する。

#### タスク内容
1. **Function Calling動作確認**
   - 日本語プロンプトで「明日の予定を教えて」
   - Google Calendar連携のコード例作成
   - 応答品質の評価

2. **ベンチマークテスト**
   - 応答時間の計測（10回の平均）
   - 日本語のキャラクター性表現のテスト

3. **成果物**
   - Gemini 2.5 Flash実装ガイド（Markdown）
   - 動作確認済みのコードサンプル
   - 懸念点リスト（あれば）

#### 期限
**1営業日**（Phase 1と並行して実施）

---

## 📌 まとめ

### ✅ 採用決定
- **LLM API**: Google Gemini 2.5 Flash

### 🛡️ リスク管理
- マルチモデル戦略維持（切り替え可能設計）
- Phase 2開始前の検証タスク実施

### 🚀 次のステップ
1. 開発チーム: Phase 1を継続
2. リサーチャー: Gemini検証タスク着手
3. PdM: Phase 2実装ガイド作成準備

---

**最終更新**: 2025-10-01 by PdM 寺田康佑
